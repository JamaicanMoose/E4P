<!DOCTYPE>
<html>
<head>
  <title>Password Change | Reset</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link href="/css/change_password.css" rel="stylesheet"> 
</head>
<body>
  <div class="wrapper center">
    <h1 class="banner">Enter New Password</h1>
    <p class="justify">Remember that resetting your password will change it for everyone who uses the same account. Only change your password if you're absolutely sure.</p>
    <form id="change_password" method="post" action="/admin/change">
      <input class="text_input" type="password" id="new_pwd" name="new_pwd" required placeholder="New Password"><br>
      <input class="text_input" type="password" id="chk_pwd" name="chk_pwd" required placeholder="Retype Password"><br>
      <input class="action_button" type="submit" value="Change Password">
    </form>
  </div>

  <script>
    $('#change_password').on('submit', (e) => {
      let new_pwd = $('#new_pwd').val();
      let chk_pwd = $('#chk_pwd').val();

      if (new_pwd !== chk_pwd) {
        alert("Passwords Don't Match!");
        return false;
      }

      let params = new URLSearchParams(document.location.search.substring(1))
      let request = params.get('request');

      $('<input />').attr('type', 'hidden')
                    .attr('name', 'request')
                    .attr('value', request)
                    .appendTo('#change_password');
    });
  </script>
</body>
</html>